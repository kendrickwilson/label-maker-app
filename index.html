<html>

<head>
    <title>Label Maker</title>
    <link rel="stylesheet" href="app-layout.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="manifest" href="manifest.json">
</head>

<body>
    <div id="app">

        <div id="form" class="form-panel">
            <div class="panel-wrapper">
                <br/>Left Text:
                <br/><textarea id="leftTextField" cols="45" rows="8"></textarea>
                <br/><br/>Right Text:
                <br/><textarea id="rightTextField" cols="45" rows="8"></textarea>
                <br/><br/>Bottom Text:
                <br/><textarea id="buttomTextField" cols="45" rows="8"></textarea>
                <br/>
                <br/><button id="installButton" class="ui-button">Install</button><button id="printButton" class="ui-button">Print</button>&nbsp;
            </div>
        </div>
        <div id="preview" class="preview-panel">
            <div id="top-box-preview" class="top-box">
                <img src="http://www.mountnebochurch.org/images/Mount-nebo-logo-white.png" height="80"><br/>
                <span style="font-weight: bold!important;">Mount Nebo Church Baptist Church</span><br/>
                <span style="font-style: italic!important;">"A Friendly Church Serving A Faithful Christ"</span><br/>
            </div>
            <div id="left-box-pre" class="left-box"></div>
            <div id="center-box-preview" class="center-box">&nbsp;</div>
            <div id="right-box-pre" class="right-box"></div>
            <div id="buttom-box-pre" class="buttom-box"></div>
        </div>
    </div>

    <div id="printer">
        <div id="cd-1">
            <div id="top-box-1" class="top-box">
                <img src=" http://www.mountnebochurch.org/images/Mount-nebo-logo-white.png " height="80"><br/>
                <span style="font-weight: bold!important;">Mount Nebo Church Baptist Church</span><br/>
                <span style="font-style: italic!important;">"A Friendly Church Serving A Faithful Christ"</span><br/>

            </div>
            <div id="left-box-1-pre" class="left-box"></div>
            <div id="center-box-1-pre" class="center-box ">&nbsp;</div>
            <div id="right-box-1-pre" class="right-box"></div>
            <div id="buttom-box-1-pre" class="buttom-box "></div>
        </div>
        <div id="cd-2">
            <div id="top-box-2" class="top-box ">
                <img src="http://www.mountnebochurch.org/images/Mount-nebo-logo-white.png " height="80"><br/>
                <span style="font-weight: bold!important;">Mount Nebo Church Baptist Church</span><br/>
                <span style="font-style: italic!important;">"A Friendly Church Serving A Faithful Christ"</span><br/>
            </div>
            <div id="left-box-2-pre" class="left-box"></div>
            <div id="center-box-2-pre" class="center-box ">&nbsp;</div>
            <div id="right-box-2-pre" class="right-box"></div>
            <div id="buttom-box-2-pre" class="buttom-box "></div>
        </div>
    </div>
    <script src="app-controller.js"></script>
    <script>
        if ("serviceWorker" in navigator) {

            navigator.serviceWorker.register("/app-service-worker.js")
                .then(function(registration) { // Registration was successful

                    console.log("ServiceWorker registration successful with scope: ", registration.scope);

                }).catch(function(err) { // registration failed :(

                    console.error("ServiceWorker registration failed: ", err);
                });



            // ----------------------------------------------------------------------
            var deferredPrompt;
            window.addEventListener("beforeinstallprompt", function(e) {
                e.preventDefault();
                deferredPrompt = e;

                var installButton = document.getElementById("installButton");
                installButton.style.display = 'inline-block';
                installButton.addEventListener("click", function() {
                    deferredPrompt.prompt();
                    deferredPrompt.userChoice.then(function(choiceResult) {
                        if (choiceResult.outcome === 'accepted') {
                            installButton.style.display = 'none';
                        }
                        deferredPrompt = null;
                    })
                });
            });

        }
    </script>
</body>

</html>